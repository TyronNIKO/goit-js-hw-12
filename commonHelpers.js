import{S as f,i as p,a as g}from"./assets/vendor-b0d10f48.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const v="/goit-js-hw-12/assets/info-28eb2f9b.svg",y="/goit-js-hw-12/assets/icon-error-9681c3d4.svg",L={info:v,error:y},w=new f(".gallery li a");function l(t,r){const s={error:"red",info:"blue",success:"green"}[t.toLowerCase()];p.show({title:`${t}`,color:s,maxWidth:window.innerWidth<768?"100%":"33%",iconUrl:L[t.toLowerCase()],position:"topRight",message:`${r}`})}function S(t){return`<li>
                <a href="${t.largeImageURL}"><img src='${t.webformatURL}' alt='${t.tags}'></a>
                <div class="content">
                    <div class="item"><h3>Likes</h3><p>${t.likes}</p></div>
                    <div class="item"><h3>Views</h3><p>${t.views}</p></div>
                    <div class="item"><h3>Comments</h3><p>${t.comments}</p></div>
                    <div class="item"><h3>Downloads</h3><p>${t.downloads}</p></div>
                </div>
            </li>`}async function E(t,r,i){const s=t.hits.map(e=>S(e)).join("");i||(r.textContent=""),r.insertAdjacentHTML("beforeend",s),w.refresh()}class d{constructor(){this.element=document.querySelector(".js-loader-text"),this.options={text:"Loading images, please wait",loader:".",count:3}}createInterval({count:r,text:i,loader:s}){this.element.classList.remove("js-hidden");let e=0;this.interval=setInterval(()=>{e>r&&(e=0),this.element.innerText=i.padEnd(i.length+e,s),e++},200)}removeInterval(r){clearInterval(r),this.element.classList.add("js-hidden")}init(){this.element.classList.add("js-hidden")}}async function h(t,r,i){const s=new d;s.createInterval(s.options);try{const o=(await g.get(`https://pixabay.com/api/?${t}`)).data;if(!o.hits||o.hits.length===0)throw new Error("Error! Nothing to load");await E(o,r,i);const a=document.querySelector(".gallery li");if(i&&a){const{height:m}=a.getBoundingClientRect();window.scrollBy({top:(m+20)*2,behavior:"smooth"})}}catch{l("Error",i?"We're sorry, but you've reached the end of search results.":"Sorry, there are no images matching your search query. Please try again!")}finally{s.removeInterval(s.interval)}}const n={searchForm:document.querySelector("form"),photoList:document.querySelector(".photo-list"),loadMore:document.querySelector('button[data-request="load-more"]')},I=new d;I.init();let c=new URLSearchParams({key:"7706316-da1567048322714709989c4f8",q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,page:1,per_page:15}),u=1;n.searchForm.addEventListener("submit",t=>{t.preventDefault();const r=n.searchForm.elements[0].value.trim();if(!r){l("Info","Search input must be filled!");return}c.set("q",r),u=1,h(c,n.photoList,!1).then(()=>{n.loadMore.classList.remove("js-hidden")})});n.loadMore.addEventListener("click",t=>{t.preventDefault(),n.loadMore.classList.add("js-hidden"),c.set("page",++u),h(c,n.photoList,!0).then(()=>{n.loadMore.classList.remove("js-hidden")})});
//# sourceMappingURL=commonHelpers.js.map
